{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/confetti.js","webpack:///./src/celebrate.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","ConfettiParticle","context","width","height","_classCallCheck","this","color","lightness","diameter","tilt","tiltAngleIncrement","tiltAngle","particleSpeed","waveAngle","x","y","reset","Math","floor","random","sin","cos","complete","darken","beginPath","lineWidth","strokeStyle","moveTo","lineTo","stroke","window","innerWidth","innerHeight","particles","canvas","document","createElement","getContext","id","querySelector","appendChild","changeModalColor","hue","style","backgroundColor","updateSize","createParticles","total","push","addEventListener","e","animationFunc","requestAnimationFrame","clearRect","_i","_particles","length","update","draw","_confetti","tag","src","player","firstScriptTag","getElementsByTagName","parentNode","insertBefore","onYouTubePlayerAPIReady","YT","Player","videoId","events","onStateChange","onPlayerStateChange","isBodyClicked","event","data","PlayerState","PLAYING","setTimeout","target","className","playVideo"],"mappings":"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","file":"celebrate-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 129);\n","/**\n * Confetti particle class\n */\nclass ConfettiParticle {\n  constructor(context, width, height) {\n    this.context = context;\n    this.width = width;\n    this.height = height;\n    this.color = \"\";\n    this.lightness = 100;\n    this.diameter = 0;\n    this.tilt = 0;\n    this.tiltAngleIncrement = 0;\n    this.tiltAngle = 0;\n    this.particleSpeed = 1;\n    this.waveAngle = 0;\n    this.x = 0;\n    this.y = 0;\n    this.reset();\n  }\n\n  reset() {\n    this.lightness = 100;\n    this.color = Math.floor(Math.random() * 360);\n    this.x = Math.random() * this.width;\n    this.y = Math.random() * this.height - this.height;\n    this.diameter = Math.random() * 6 + 4;\n    this.tilt = 0;\n    this.tiltAngleIncrement = Math.random() * 0.1 + 0.04;\n    this.tiltAngle = 0;\n  }\n\n  darken() {\n    if (this.y < 100 || this.lightness <= 0) return;\n    this.lightness -= 500 / this.height;\n  }\n\n  update() {\n    this.waveAngle += this.tiltAngleIncrement;\n    this.tiltAngle += this.tiltAngleIncrement;\n    this.tilt = Math.sin(this.tiltAngle) * 12;\n    this.x += Math.sin(this.waveAngle);\n    this.y +=\n      (Math.cos(this.waveAngle) + this.diameter + this.particleSpeed) * 0.4;\n    if (this.complete()) this.reset();\n    this.darken();\n  }\n\n  complete() {\n    return this.y > this.height + 20;\n  }\n\n  draw() {\n    let x = this.x + this.tilt;\n    this.context.beginPath();\n    this.context.lineWidth = this.diameter;\n    this.context.strokeStyle =\n      \"hsla(\" + this.color + \", 80%, 50%, \" + this.lightness + \"%)\";\n    this.context.moveTo(x + this.diameter / 2, this.y);\n    this.context.lineTo(x, this.y + this.tilt + this.diameter / 2);\n    this.context.stroke();\n  }\n}\n\n/**\n * Setup\n */\nconst celebrate = () => {\n  let width = window.innerWidth;\n  let height = window.innerHeight;\n  let particles = [];\n\n  // particle canvas\n  const canvas = document.createElement(\"canvas\");\n  const context = canvas.getContext(\"2d\");\n  canvas.id = \"particle-canvas\";\n  canvas.width = width;\n  canvas.height = height;\n  document.querySelector(\".modal-background\").appendChild(canvas);\n\n  // change body bg color\n  const changeModalColor = () => {\n    const hue = Math.floor(Math.random() * 360);\n    document.querySelector(\".modal-background\").style.backgroundColor =\n      \"hsl(\" + hue + \", 100%, 50%)\";\n  };\n\n  // update canvas size\n  const updateSize = () => {\n    width = window.innerWidth;\n    height = window.innerHeight;\n    canvas.width = width;\n    canvas.height = height;\n  };\n\n  // create confetti particles\n  const createParticles = () => {\n    particles = [];\n    let total = 100;\n\n    if (width > 1080) {\n      total = 400;\n    } else if (width > 760) {\n      total = 300;\n    } else if (width > 520) {\n      total = 200;\n    }\n\n    for (let i = 0; i < total; ++i) {\n      particles.push(new ConfettiParticle(context, width, height));\n    }\n  };\n\n  // animation loop function\n  const animationFunc = () => {\n    requestAnimationFrame(animationFunc);\n    if (Math.random() > 0.98) changeModalColor();\n    context.clearRect(0, 0, width, height);\n\n    for (let p of particles) {\n      p.width = width;\n      p.height = height;\n      p.update();\n      p.draw();\n    }\n  };\n\n  // on resize\n  window.addEventListener(\"resize\", e => {\n    updateSize();\n    createParticles();\n  });\n\n  // start\n  updateSize();\n  createParticles();\n  changeModalColor();\n  animationFunc();\n};\n\nexport default celebrate;\n","import celebrate from \"./confetti\";\n\nconst tag = document.createElement(\"script\");\ntag.src = \"http://www.youtube.com/player_api\";\nconst firstScriptTag = document.getElementsByTagName(\"script\")[0];\nfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\nlet player;\nwindow.onYouTubePlayerAPIReady = () => {\n  player = new YT.Player(\"player\", {\n    height: \"390\",\n    width: \"640\",\n    videoId: \"zeXBe3Fvv6o\",\n    events: {\n      onStateChange: onPlayerStateChange\n    }\n  });\n};\n\nlet isBodyClicked = false;\nfunction onPlayerStateChange(event) {\n  if (event.data == YT.PlayerState.PLAYING) {\n    if (isBodyClicked === false) {\n      isBodyClicked = true;\n      setTimeout(() => {\n        return celebrate();\n      }, 6800);\n    }\n  }\n}\n\ndocument.querySelector(\"body\").addEventListener(\"click\", e => {\n  if (e.target && e.target.className === \"button button-celebrate\") {\n    document.querySelector(\".modal-background\").className += \" -active\";\n    player.playVideo();\n  }\n});\n"],"sourceRoot":""}